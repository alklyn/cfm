<!-- extend from base layout -->
{% extends "layout.html" %}

{% block styles %}
    {{ super() }}
    <link rel= "stylesheet" href="{{ url_for('static',filename='styles/ticket.css') }}">
{% endblock %}

{% block my_js %}
    <script src="{{ url_for('static',filename='js/ticket.js') }}"></script>
{% endblock %}

{% block my_content%}
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <div class="ticket">
                    <form name="open-ticket" id="open-ticket" method="post">
                        {% with messages = get_flashed_messages() %}
                            {% if messages %}
                            <div class="form-group error_message">
                                {{ messages[0] }}
                            </div>
                            {% endif %}
                        {% endwith %}
                        <div class="form-group">
                            {{ form.caller_firstname.label }} : {{ form.caller_firstname }}
                        </div>

                        <div class="form-group">
                            {{ form.caller_lastname.label }} : {{ form.caller_lastname }}
                        </div>

                        <div class="form-group">
                            {{ form.phone_number.label }} : {{ country_code }}{{ form.phone_number }}
                        </div>

                        <div class="form-group">
                            {{ form.gender.label }} : {{ form.gender }}
                        </div>

                        <div class="form-group">
                            {{ form.province.label }} : {{ form.province }}
                        </div>

                        {% if province_set %}
                        <div class="form-group">
                            {{ form.district.label }} : {{ form.district }}
                        </div>
                        {% endif %}

                        {% if district_set %}
                        <div class="form-group">
                            {{ form.ward.label }} : {{ form.ward }}
                        </div>
                        {% endif %}

                        {% if ward_set %}
                        <div class="form-group">
                            {{ form.village.label }} : {{ form.village }}
                        </div>
                        {% endif %}

                        <div class="form-group">
                            {{ form.partner.label }} : {{ form.partner }}
                        </div>

                        <div class="form-group">
                            {{ form.programme.label }} : {{ form.programme }}
                        </div>

                        <div class="form-group">
                            {{ form.topic.label }} : {{ form.topic }}
                        </div>

                        <div class="form-group">
                            {{ form.priority.label }} : {{ form.priority }}
                        </div>

                        <div class="form-group">
                            {{ form.agent.label }} : {{ form.agent }}
                        </div>

                        <div class="form-group">
                            {{ form.details.label }} : {{ form.details }}
                        </div>


                        {{ form.csrf_token }}
                        <div id="submit_div" class="hide">
                            {{ form.open_ticket }}
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
